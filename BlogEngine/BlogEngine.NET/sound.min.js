var arr, audio, f, hash, i, url;
audio = document.getElementById("audio"),
url = location.href.toString(),
hash = {},
arr = [],
i = 0,
function() {
    var a, b, c, d, e, f;
    for (a = url.replace(/.*#/, "").split(";"),
    f = [],
    d = 0,
    e = a.length; e > d; d++)
        c = a[d],
        b = c.split("="),
        f.push(hash[b[0]] = b[1]);
    return f
}
(),
function() {
    return arr = decodeURI(hash.query).toUpperCase().replace(/&/g, "和").replace(/[，。！？]/g, " ").replace(/\s+/g, " ").split(" "),
    console.log(arr)
}
(),
f = function() {
    var a;
    return i <= arr.length ? (a = arr[i],
    a && setTimeout(function() {
        return audio.src = "http://translate.google.cn/translate_tts?tl=zh-CN&q=" + a
    }
    , 500),
    i++) : void 0
}
,
audio.addEventListener("ended", f),
audio.addEventListener("error", f),
hash.query && f();
